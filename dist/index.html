<!DOCTYPE html>
<html lang="en" data-critters-container>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<script src="https://kit.fontawesome.com/bf7e2ba98b.js" crossorigin="anonymous"></script>
<style type="text/css">@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;}</style>
    <title>Peliculas</title>
<style>*{padding:0;margin:0;font-family:Roboto,sans-serif}.container{height:100vh;width:100%;background-color:#0f0f0f}.cabecera{padding-top:10px;display:flex;align-items:center;justify-content:center;width:100%;height:7vh}.buscadorDiv{display:flex;align-items:center;justify-content:center;width:80%}.buscador{display:flex;align-items:center;justify-content:center;border-radius:30px;padding:12px;width:300px;border:none}a{color:inherit;text-decoration:none}.logo{display:flex;align-items:center;justify-content:center;color:red;width:10%}.perfilDiv{display:flex;align-items:center;justify-content:center;width:10%}.perfil{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border-radius:100px;background-color:#fff;background-size:cover}#peliculas{display:flex;justify-content:center;flex-wrap:wrap;padding:10px 50px 0;background-color:#0f0f0f}.boton{padding:10px}.paginas{display:flex;justify-content:center;align-items:center;margin:0;background-color:#0f0f0f}#info-pelicula{text-align:center;display:none;background-color:#0f0f0f;color:#fff;padding-bottom:20px;margin:0}</style><link rel="stylesheet" href="styles.e989d84e9ccd8703.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.e989d84e9ccd8703.css"></noscript></head>
<body>

    <div class="container">

        <div class="cabecera">

            <div class="logo"><h1><a href="index.html">SASTRE</a></h1></div>
            
            <div class="buscadorDiv">
                <input class="buscador" id="busqueda" type="text" placeholder="Que pelicula buscas">
            </div>

            <div class="cuenta">

            </div>

            <div class="perfilDiv">

                <div class="perfil">
                    <i class="fa-solid fa-user fa-2x"></i>
                </div>

             </div>

        </div>

        <div class="portadas">

        </div>

        <div id="peliculas">
            
        </div>

        <div class="paginas">
            <button id="paginaAnterior" class="boton">Anterior</button>
            <button id="paginaSiguiente" class="boton">Siguiente</button>
        </div>

        <div id="info-pelicula">
            <p></p><h2><span id="titulo-pelicula"></span><p></p></h2>
            <p><strong>Fecha de Lanzamiento:</strong> <span id="fecha-lanzamiento"></span></p>
            <p><strong>Descripción:</strong> <span id="descripcion-pelicula"></span></p>
        </div>

    </div>
    <script>
      
       const apiKey = '956815bf408e16719beca1d8375ac150';
        const peliculasDiv = document.getElementById('peliculas');
        let page = 1;

        async function buscarPeliculas(textoBusqueda) {
            try {
                const url = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=es&query=${textoBusqueda}&page=${page}`;
                const response = await fetch(url);
                const data = await response.json();
                const peliculas = data.results;

                peliculasDiv.innerHTML = ''; // Limpia el contenido actual del div

                peliculas.forEach((pelicula) => {
                    const contenedor = document.createElement('div');
                    contenedor.classList.add('ejemplo');
                    contenedor.style.backgroundImage = `url(https://image.tmdb.org/t/p/w500${pelicula.poster_path})`;
                    peliculasDiv.appendChild(contenedor);
                    contenedor.addEventListener('click', () => mostrarInformacionPelicula(pelicula));
                    
                });
            } catch (error) {
                console.error('Error al buscar películas:', error);
            }
        }

        async function obtenerYMostrarPeliculas() {
            try {
                const url = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=es&sort_by=popularity.desc&page=${page}`;
                const response = await fetch(url);
                const data = await response.json();
                const peliculas = data.results;

                peliculasDiv.innerHTML = ''; // Limpia el contenido actual del div

                peliculas.forEach((pelicula) => {
                    const contenedor = document.createElement('div');
                    contenedor.classList.add('ejemplo');
                    
                    contenedor.style.backgroundImage = `url(https://image.tmdb.org/t/p/w500${pelicula.poster_path})`;
                    
                    peliculasDiv.appendChild(contenedor);
                    contenedor.addEventListener('click', () => mostrarInformacionPelicula(pelicula));
                    
                });
            } catch (error) {
                console.error('Error al obtener las películas:', error);
            }
        }

        obtenerYMostrarPeliculas(); 

        const botonSiguiente = document.getElementById('paginaSiguiente');
        botonSiguiente.addEventListener('click', () => {
            page++; 
            obtenerYMostrarPeliculas();
        });

        const botonAnterior = document.getElementById('paginaAnterior');
        botonAnterior.addEventListener('click', () => {
            if(page!=1){
                page--; 
            }
            obtenerYMostrarPeliculas();
        });

        const barraBusqueda = document.getElementById('busqueda');
        barraBusqueda.addEventListener('input', () => {
            page = 1;
            const textoBusqueda = barraBusqueda.value.trim().toLowerCase();
            if (textoBusqueda.length > 0) {
                buscarPeliculas(textoBusqueda); // Realiza la búsqueda y muestra las películas filtradas
            } else {
                obtenerYMostrarPeliculas(); // Si no hay texto de búsqueda, muestra todas las películas
            }
        });

        function mostrarInformacionPelicula(pelicula) {
            const infoPeliculaDiv = document.getElementById('info-pelicula');
            const tituloPelicula = document.getElementById('titulo-pelicula');
            const fechaLanzamiento = document.getElementById('fecha-lanzamiento');
            const descripcionPelicula = document.getElementById('descripcion-pelicula');

            tituloPelicula.textContent = pelicula.title;
            fechaLanzamiento.textContent = pelicula.release_date;
            descripcionPelicula.textContent = pelicula.overview;

            infoPeliculaDiv.style.display = 'block'; // Mostrar la información de la película
        }
      
    </script>
<script src="runtime.414cfce6c4d1074a.js" type="module"></script><script src="polyfills.d58585118641dabe.js" type="module"></script><script src="main.4d38d4f136f80e03.js" type="module"></script></body>
</html>